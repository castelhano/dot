{% if status == 'CREATED' %}
<div class="col-lg-12 text-center">
  <p class="display-2">Cadastro realizado com <b class="text-success">sucesso</b></p>
  <p class="mt-5"><a class="h3 text-decoration-none text-orange" href="{{ROOT.homepage|default:'index'}}">Voltar</a></p>
</div>
{% elif status == 'ERROR' %}
<div class="col-lg-12 text-center">
  <p class="display-6"><b class="text-danger">Erro:</b> o cadastro não foi concluido. Verifique os campos digitados{% if ROOT.recrutamento_fone %}, dúvidas entre em contato pelo número  <span class="text-nowrap text-orange">{{ROOT.recrutamento_fone}}</span>{% endif %}</p>
  <p class="mt-5"><a class="h3 text-decoration-none text-orange" href="{{ROOT.homepage|default:'index'}}">Voltar</a></p>
</div>
{% elif status == 'SEMVAGAS' %}
<div class="col-lg-12 text-center">
  <p class="h2"><b class="text-warning">Informativo:</b> No momento não temos nenhuma vaga em aberto, você pode tentar novamente no futuro ou enviar seu curriculo para nosso setor de recursos humanos{% if ROOT.recrutamento_fone %}, dúvidas entre em contato pelo número  <span class="text-nowrap text-orange">{{ROOT.recrutamento_fone}}</span>{% endif %}{% if ROOT.recrutamento_email %} ou pelo email <a class="text-nowrap text-decoration-none text-orange" href="mailto:{{ROOT.recrutamento_email}}?subject=Recrutamento">{{ROOT.recrutamento_email|default:''}}</a>{% endif %}</p>
  <p class="mt-5"><a class="h3 text-decoration-none text-orange" href="{{ROOT.homepage|default:'index'}}">Voltar</a></p>
</div>
{% else %}
<p class="lead text-center mb-4">Após concluir o cadastro aguarde o contato da nossa equipe de Recursos Humanos para agendamento de entrevista{% if ROOT.recrutamento_fone %}, dúvidas entre em contato pelo número <span class="text-nowrap text-orange">{{ROOT.recrutamento_fone}}</span>{% endif %}{% if ROOT.recrutamento_email %} ou pelo email <a class="text-nowrap text-decoration-none text-orange" href="mailto:{{ROOT.recrutamento_email}}?subject=Recrutamento">{{ROOT.recrutamento_email|default:''}}</a>{% endif %}</p>
<div class="row">
  <div class="col-lg-4 order-lg-2 mb-4">
    <h4 class="d-flex justify-content-between align-items-center mb-3">
      <span>Vagas Disponíveis</span>
    </h4>
    <ul class="list-group mb-3">
      {% for vaga in vagas %}
      <li class="list-group-item d-flex justify-content-between lh-condensed">
        <div>
          <h6 class="my-0">{{ vaga.cargo.nome }}</h6>
          <small class="text-muted">{{ vaga.descricao|default:'&nbsp' }}</small>
        </div>
        {% if mostrar_quantidade_vagas %}
        <span class="text-muted">{{ vaga.quantidade }}</span>
        {% endif %}
      </li>
      {% empty %}
      <li class="list-group-item d-flex justify-content-between lh-condensed">
        <div>
          <h6 class="my-0">Indisponível</h6>
          <small class="text-muted">Não temos vagas em aberto no momento</small>
        </div>
        <span class="text-muted">0</span>
      </li>
      {% endfor %}
    </ul>
  </div>
  <div class="col-lg-8 order-lg-1">
    <h4 class="mb-3">Dados pessoais</h4>
    <form role="form" action="{% url 'recrutamento' %}" method="POST" enctype="multipart/form-data" autocomplete="off" onsubmit="return submitForm();" novalidate>
      {% csrf_token %}
      <div class="row">
        <div class="col-lg-12 mb-3">
          <label for="id_nome">Nome</label>
          <input type="text" class="form-control" name="nome" id="id_nome" placeholder="Nome completo" autofocus>
        </div>
      </div>
      <div class="row">
        <div class="mb-3 col-lg-4">
          <label for="id_cpf">CPF <sup>(obrigatório)*</sup></label>
          <div class="input-group">
            <input type="text" class="form-control" name="cpf" id="id_cpf" placeholder="000.000.000-00">
          </div>
        </div>
        <div class="mb-3 col-lg-4">
          <label for="username">Nascimento</label>
          <div class="input-group">
            {{ form.data_nascimento }}
          </div>
        </div>
        <div class="mb-3 col-lg-4">
          <label for="username">Sexo</label>
          <div class="input-group">
            <select class="form-select" name="sexo">
              <option value="M">Masculino</option>
              <option value="F">Feminino</option>
              <option value="N">Não Informar</option>
            </select>
          </div>
        </div>
      </div>
      
      <div class="mb-3">
        <label for="address">Endereço</label>
        {{ form.endereco }}
      </div>
      <div class="row">
        <div class="mb-3 col-lg-2">
          <label for="id_cpf">UF</label>
          <div class="input-group">
            {{form.uf}}
          </div>
        </div>
        <div class="mb-3 col-md">
          <label for="username">Cidade</label>
          <div class="input-group">
            {{ form.cidade }}
          </div>
        </div>
        <div class="mb-3 col-md">
          <label for="username">Bairro</label>
          <div class="input-group">
            {{form.bairro}}
          </div>
        </div>
      </div>
      
      <div class="mb-3">
        <label for="email">Email <span class="text-muted">(opcional)</span></label>
        {{ form.email }}
      </div>
      
      <div class="row mb-4">
        <div class="mb-1 col-lg-4">
          <label>Contatos</label>
          <div class="input-group">
            <input type="text" class="form-control" name="fone1" id="id_fone1" placeholder="Fone 01" required>
          </div>
        </div>
        <div id="vagas_delimiter_sm" class="col-lg-4">
          <label>&nbsp;</label>
          <div class="input-group">
            <input type="text" class="form-control" name="fone2" id="id_fone2" placeholder="Fone 02">
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-lg-12 mb-3">
          <label for="id_indicacao">Quem te indicou nossa empresa</label>
          {{ form.indicacao }}
        </div>
      </div>
      <hr class="mb-3">
      <div id="vagas_delimiter_lg" class="form-check form-switch">
        {{form.pne}}
        <label class="form-check-label" for="id_pne">PNE Pessoa com necessidades especiais (PCD)</label>
      </div>
      <hr class="mb-4">
      <h4 class="mb-3">Vagas</h4>
      
      <div class="row g-1  mb-3">
        <div class="col-md">
          <select name="vagas" id="id_vagas" multiple>
            {% for vaga in vagas %}
            <option value="{{vaga.id}}">{{vaga.cargo.nome}}</option>
            {% endfor %}
          </select>
        </div>
      </div>
      
      <div class="mb-4 col-lg-12 fs-7">
        <label for="username">Curriculo <small class="text-muted fw-bold">( extensões aceitas: <span class="text-primary">PDF, DOC, DOCX, ODT</span> )</small></label>
        <div class="input-group">
          {{ form.curriculo }}
        </div>
      </div>
      
      <h4 class="mb-2">Apresentação</h4>
      <div class="row">
        <div class="col-lg-12 mb-3">
          <label for="id_apresentacao">Descreva suas experiências profissionais (opcional)</label>
          {{ form.apresentacao }}
        </div>
      </div>
      
      <hr class="mb-4">
      <div class="row">
        <div class="col">
          <button class="btn btn-primary" type="submit">Cadastrar</button>
          <a class="btn btn-secondary" href="{{ROOT.homepage|default:'index'}}">Voltar</a>
        </div>
      </div>
    </form>
  </div>
</div>
<script>
  function submitForm(){
    if(document.getElementById('id_nome').value.trim() == ''){dotAlert('danger', 'O campo <b>nome</b> é obrigatório.',false);document.getElementById('id_nome').focus();return false;}
    if(document.getElementById('id_cpf').value.length < 14){dotAlert('danger', 'Informe um <b>CPF</b> valido para continuar.', false);document.getElementById('id_cpf').focus();return false;}
    if(document.getElementById('id_fone1').value.length < 14){dotAlert('danger', 'Informe pelo menos um <b>telefone (valido) para contato</b> com DDD.', false);document.getElementById('id_fone1').focus();return false;}
    if(selectVagas.optionsSelected.length == 0){
      dotAlert('danger', 'Selecione uma ou mais <b>vagas</b>.', false);
      if(__ss == 'sm'){setTimeout(() => {window.scroll(0,1645)}, 100);}
      return false;
    }
    return true;
  }
</script>
{% endif %}