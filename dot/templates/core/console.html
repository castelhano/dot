{% extends "layout/dot.html" %}
{% load static %}
{% block title %}Console{% endblock %}
{% block model %}Console{% endblock %}
{% block model_menu %}{% include "_component/menu/visitor.html" %}{% endblock%}


<style media="screen">
  {% block style %}
  .badge{margin-right:3px; margin-bottom:3px;}
  {% endblock%}
</style>

{% block content_fluid %}
<div class="card mt-2">
  <div class="card-header">
    <ul class="nav nav-tabs card-header-tabs">
      <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" data-bs-target="#base" href="#"><i class="fas fa-code"></i></a></li>
      <li class="nav-item"><a class="nav-link" id="back" title="ALT + V" href="url"><i class="fas fa-undo"></i></a></li>
    </ul>
  </div>
  <form id="app_form" action="url" method="POST" autocomplete="off">
    {% csrf_token %}
    <div class="card-body tab-content">
      <h5 class="card-title mb-3">Admin Console</h5>
      <div class="row mb-3">
        <div class="col">
          <button type="button" id="clear" class="btn btn-sm btn-warning" title="Limpar" onclick="console_clean()"><i class="fas fa-backspace"></i></button>
          <button type="button" class="btn btn-sm btn-success" onclick="console_submit()"><i class="fas fa-code"></i> Executar</button>
          <div class="btn-group" role="group">
            <button id="id_sys" type="button" class="btn btn-sm btn-dark dropdown-toggle" data-bs-toggle="dropdown" title="Core"><i class="fas fa-terminal"></i></button>
            <ul class="dropdown-menu fs-7">
              <li><h6 class="dropdown-header bg-light">Alertas</h6></li>
              <li><span class="dropdown-item pointer" onclick="console_add('alerta')">Simples</span></li>
              <li><span class="dropdown-item pointer" onclick="console_add('cleaner')">Cleaner</span></li>
              <li><hr class="dropdown-divider"></li>
              <li><span class="dropdown-item pointer text-danger" onclick="console_add('runscript')">Runscript</span></li>
            </ul>
          </div>
          <div class="btn-group" role="group">
            <button id="id_pessoal" type="button" class="btn btn-sm btn-purple dropdown-toggle" data-bs-toggle="dropdown" title="Pessoal"><i class="fas fa-users"></i> </button>
            <ul class="dropdown-menu fs-7">
              <li><a class="dropdown-item" href="#">Cancelar Desligam</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="tab-pane fade show active" id="base" role="tabpanel">
        <div class="row">
          <div class="col">
            <div class="border rounded py-2 px-3 bg-light" id="console">
              <span class="badge bg-orange text-uppercase">@alert</span>
              <span class="badge bg-success" contenteditable="true">username=username</span>
              <span class="badge bg-primary">is_active=True</span>
              <span class="badge bg-primary" contenteditable="true">critico=False</span>
              <span class="badge bg-secondary" contenteditable="true">titulo=informe um titulo</span>
              <span class="badge bg-secondary" contenteditable="true">mensagem=escreva a mensagem do alerta aqui..</span>
              <small class="text-muted">Console V1.0</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>

{% endblock%}

{% block add_script_src %}{% endblock %}

<script>
  {% block add_script %}
  var models = {
    'alerta':'<span class="badge bg-orange text-uppercase">@alert</span><span class="badge bg-success" contenteditable="true">username=username</span><span class="badge bg-primary">is_active=True</span><span class="badge bg-primary" contenteditable="true">critico=False</span><span class="badge bg-secondary" contenteditable="true">titulo=informe um titulo</span><span class="badge bg-secondary" contenteditable="true">mensagem=escreva a mensagem do alerta aqui..</span>',
  };
  var dotConsole = document.getElementById('console'); 
  function console_add(key){dotConsole.innerHTML = models[key];}
  function console_clean(){dotConsole.innerHTML = '<small class="text-muted">Console V1.0</small>';}
  
  function console_submit(){
    console.log(dotConsole.textContent);
  }
  
  
  
  
  
  {% endblock %}
</script>