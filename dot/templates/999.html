{% extends "layout/dot.html" %}
{% load static %}
{% block model %}999 <b class="ms-2">Test Page</b>{% endblock %}

{% block script_preload_src %}<script src="{% static 'js/vendor/jsPdf.js' %}"></script>{% endblock%}
{% block style_src %}
<link rel="stylesheet" href="{% static 'css/report.css' %}">
{% endblock%}
<style>
  {% block style %}{% endblock%}
</style>

{% block content_fluid %}
<a class="d-none" href="{% url 'handler' '999' %}" id="clear"></a>
<ol class="breadcrumb mt-3">
  <li class="breadcrumb-item"><a href="#">Home</a></li>
  <li class="breadcrumb-item"><a href="#">Library</a></li>
  <li class="breadcrumb-item active">Data</li>
</ol>
<div id="container"></div>
{% endblock%}


{% block add_script_src %}
<script src="{% static 'js/report.js' %}"></script>
{% endblock %}


<script>
{% block add_script %}
window.jsPDF = window.jspdf.jsPDF;
let doc = new jsPDF();
doc.fromHTML('<h1>Ola mundo cruel...</h1>')
doc.save();
// doc.text(20,20, 'Ola mundo...');
// doc.setFontSize(26);
// doc.setTextColor(255,0,0);
// doc.text(20,80, 'Alterado');
// doc.rect(20,40,280,10);
// doc.save('foo.pdf');

const report = new jsReport({
  editor: document.getElementById('id_editor'),
  previewTarget: document.getElementById('preview'),
  container: document.getElementById('container'),
  db:{
    'empresa.nome': 'Pantanal Transportes'
  },
  autofocus: true
});


{% endblock %}
</script>