{% include "_component/layout/submenulist.html" %}
<li id="cadastro_list_container" class="nav-item dropdown">
  <a class="nav-link dropdown-toggle" id="menu_cadastro" href="#" data-bs-toggle="dropdown" title="ALT + C"><b>C</b>adastro</a>
  <ul id="cadastro_list_options" class="dropdown-menu">
    <li id="cadastro_frota_list_container">
      <a id="submenu_frota_link" class="dropdown-item d-flex justify-content-between align-items-center pointer" data-bs-toggle="dropdown"><span><b>F</b>rota</span><i class="fas fa-chevron-right fs-8"></i></a>
      <ul id="cadastro_frota_list_options" class="submenu dropdown-menu">
        {% if perms.oficina.view_frota %}<li><a class="dropdown-item" id="app_root" href="{% url 'oficina_frotas' %}"><b>F</b>rota</a></li>{% endif %}
        {% if perms.oficina.view_marca %}<li><a class="dropdown-item" id="cadastro_marca" href="{% url 'oficina_marcas' %}"><b>M</b>arca</a></li>{% endif %}
        {% if perms.oficina.view_modelo %}<li><a class="dropdown-item" id="cadastro_modelo" href="{% url 'oficina_modelos' %}">Mode<b>l</b>o</a></li>{% endif %}
        {% if perms.oficina.view_classificacao %}<li><a class="dropdown-item" id="cadastro_classificacao" href="{% url 'oficina_classificacoes' %}"><b>C</b>lassificação</a></li>{% endif %}
        {% if perms.oficina.view_categoria %}<li><a class="dropdown-item" id="cadastro_categoria" href="{% url 'oficina_categorias' %}">Ca<b>t</b>egoria</a></li>{% endif %}
        {% if perms.oficina.view_carroceria %}<li><a class="dropdown-item" id="cadastro_carroceria" href="{% url 'oficina_carrocerias' %}">Ca<b>r</b>roceria</a></li>{% endif %}
        {% if perms.oficina.view_componente %}<li><a class="dropdown-item" id="cadastro_componente" href="{% url 'oficina_componentes' %}">Com<b>p</b>onente</a></li>{% endif %}
      </ul>
    </li>
    <!-- <li id="cadastro_outros_list_container">
      <a id="submenu_outros_link" class="dropdown-item d-flex justify-content-between align-items-center pointer" data-bs-toggle="dropdown"><span><b>O</b>utros</span><i class="fas fa-chevron-right fs-8"></i></a>
      <ul id="cadastro_outros_list_options" class="submenu dropdown-menu"></ul>
    </li> -->
  </ul>
</li>
<script>
  if(document.getElementById('cadastro_list_options').childElementCount == 0){document.getElementById('cadastro_list_container').classList.add('d-none');}
  else{ // TODO: Aqui deve ser tratado se vazio cadastro_frota_list_options, considerar possiveis outros menus
    SHORTCUT_MAP['cTFF'] = () => {document.getElementById('menu_cadastro').click()}
    SHORTCUT_MAP['fFFF'] = () => {
      if(exibindoCadastroFrota()){try{document.getElementById('app_root').click();}catch (e){}}
      else if(exibindoCadastro()){try{submenuToggle(document.getElementById('submenu_frota_link'));}catch(e){}}
    }
    SHORTCUT_MAP['mFFF'] = () => {if(exibindoCadastroFrota()){try{document.getElementById('cadastro_marca').click();}catch (e){}}}
    SHORTCUT_MAP['lFFF'] = () => {if(exibindoCadastroFrota()){try{document.getElementById('cadastro_modelo').click();}catch (e){}}}
    SHORTCUT_MAP['cFFF'] = () => {if(exibindoCadastroFrota()){try{document.getElementById('cadastro_classificacao').click();}catch (e){}}}
    SHORTCUT_MAP['tFFF'] = () => {if(exibindoCadastroFrota()){try{document.getElementById('cadastro_categoria').click();}catch (e){}}}
    SHORTCUT_MAP['rFFF'] = () => {if(exibindoCadastroFrota()){try{document.getElementById('cadastro_carroceria').click();}catch (e){}}}
    SHORTCUT_MAP['pFFF'] = () => {if(exibindoCadastroFrota()){try{document.getElementById('cadastro_componente').click();}catch (e){}}}
    
    function exibindoCadastro(){return document.getElementById('menu_cadastro').classList.contains('show') ? true : false;}
    function exibindoCadastroFrota(){return document.getElementById('cadastro_frota_list_options').style.display == 'block' ? true : false;}
  }
    
</script>