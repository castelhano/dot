<style type="text/css">
	/* ============ desktop view ============ */
	@media all and (min-width: 992px) {
		
		.dropdown-menu li{
			position: relative;
		}
		.dropdown-menu .submenu{ 
			display: none;
			position: absolute;
			left:100%; top:-7px;
		}
		.dropdown-menu .submenu-left{ 
			right:100%; left:auto;
		}
		
		.dropdown-menu > li:hover{ background-color: #f1f1f1 }
		.dropdown-menu-dark > li:hover, .dropdown-menu-dark > li.hover{ background-color: #52575D; }
		.dropdown-menu > li:hover > .submenu{
			display: block;
		}
	}	
	/* ============ desktop view .end// ============ */
	
	/* ============ small devices ============ */
	@media (max-width: 991px) {
		
		.dropdown-menu .dropdown-menu{
			margin-left:0.7rem; margin-right:0.7rem; margin-bottom: .5rem;
		}
		
	}	
	/* ============ small devices .end// ============ */
	
</style>

<script type="text/javascript">
	
	document.addEventListener("DOMContentLoaded", function(){
		
		document.querySelectorAll('.dropdown-menu').forEach(function(element){element.addEventListener('click', function (e) {e.stopPropagation();});}) // AVOID FECHAR AO CLICAR DENTRO DO SUBMENU
		
		document.querySelectorAll('.navbar .dropdown').forEach(function(everydropdown){
			everydropdown.addEventListener('hidden.bs.dropdown', function () {
				this.querySelectorAll('.submenu').forEach(function(everysubmenu){everysubmenu.style.display = 'none';}); // OCULTA TODOS OS SUBMENUS
				this.querySelectorAll('.hover').forEach(function(everysubmenu){everysubmenu.classList.remove('hover');}); // REMOVE O ESTILO DE FOCO DO dropdown-toggle
			})
		});
		
		document.querySelectorAll('.dropdown-menu a').forEach(function(element){
			element.addEventListener('click', function (e) {
		
				let nextEl = this.nextElementSibling;
				if(nextEl && nextEl.classList.contains('submenu')) {	
					// prevent opening link if link needs to open dropdown
					e.preventDefault();
					if(nextEl.style.display == 'block'){
						nextEl.style.display = 'none';
					} else {
						nextEl.style.display = 'block';
					}
		
				}
			});
		})
	
}); 
		
	// AJUSTES RAFAEL FIM
	function submenuToggle(parent, list_element, submenu){
		document.querySelectorAll('.navbar .dropdown').forEach(function(everydropdown){
			everydropdown.querySelectorAll('.hover').forEach(function(el){el.classList.remove('hover');});
			everydropdown.querySelectorAll('.submenu').forEach(function(el){el.style.display = 'none';});
		
		});
		// if(list_element.classList.contains('hover')){list_element.classList.remove('hover');submenu.style.display = 'none';}
		// else{
			// if(parent.classList.contains('show')){
			list_element.classList.add('hover');
			submenu.style.display = 'block';
			const e = new Event('show.bs.dropdown');
			document.getElementById('app_nav_controls').dispatchEvent(e);
		// }
		// }
	}
	
</script>